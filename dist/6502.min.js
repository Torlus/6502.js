var CPU6502=function(t){var i={};function s(h){if(i[h])return i[h].exports;var n=i[h]={i:h,l:!1,exports:{}};return t[h].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=t,s.c=i,s.d=function(t,i,h){s.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:h})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="",s(s.s=0)}([function(t,i,s){"use strict";s.r(i);var h=new Array;h[0]=function(t){t.imp(),t.brk()},h[1]=function(t){t.izx(),t.ora()},h[2]=function(t){t.imp(),t.kil()},h[3]=function(t){t.izx(),t.slo(),t.rmw()},h[4]=function(t){t.zp(),t.nop()},h[5]=function(t){t.zp(),t.ora()},h[6]=function(t){t.zp(),t.asl(),t.rmw()},h[7]=function(t){t.zp(),t.slo(),t.rmw()},h[8]=function(t){t.imp(),t.php()},h[9]=function(t){t.imm(),t.ora()},h[10]=function(t){t.imp(),t.asla()},h[11]=function(t){t.imm(),t.anc()},h[12]=function(t){t.abs(),t.nop()},h[13]=function(t){t.abs(),t.ora()},h[14]=function(t){t.abs(),t.asl(),t.rmw()},h[15]=function(t){t.abs(),t.slo(),t.rmw()},h[16]=function(t){t.rel(),t.bpl()},h[17]=function(t){t.izy(),t.ora()},h[18]=function(t){t.imp(),t.kil()},h[19]=function(t){t.izy(),t.slo(),t.rmw()},h[20]=function(t){t.zpx(),t.nop()},h[21]=function(t){t.zpx(),t.ora()},h[22]=function(t){t.zpx(),t.asl(),t.rmw()},h[23]=function(t){t.zpx(),t.slo(),t.rmw()},h[24]=function(t){t.imp(),t.clc()},h[25]=function(t){t.aby(),t.ora()},h[26]=function(t){t.imp(),t.nop()},h[27]=function(t){t.aby(),t.slo(),t.rmw()},h[28]=function(t){t.abx(),t.nop()},h[29]=function(t){t.abx(),t.ora()},h[30]=function(t){t.abx(),t.asl(),t.rmw()},h[31]=function(t){t.abx(),t.slo(),t.rmw()},h[32]=function(t){t.abs(),t.jsr()},h[33]=function(t){t.izx(),t.and()},h[34]=function(t){t.imp(),t.kil()},h[35]=function(t){t.izx(),t.rla(),t.rmw()},h[36]=function(t){t.zp(),t.bit()},h[37]=function(t){t.zp(),t.and()},h[38]=function(t){t.zp(),t.rol(),t.rmw()},h[39]=function(t){t.zp(),t.rla(),t.rmw()},h[40]=function(t){t.imp(),t.plp()},h[41]=function(t){t.imm(),t.and()},h[42]=function(t){t.imp(),t.rla()},h[43]=function(t){t.imm(),t.anc()},h[44]=function(t){t.abs(),t.bit()},h[45]=function(t){t.abs(),t.and()},h[46]=function(t){t.abs(),t.rol(),t.rmw()},h[47]=function(t){t.abs(),t.rla(),t.rmw()},h[48]=function(t){t.rel(),t.bmi()},h[49]=function(t){t.izy(),t.and()},h[50]=function(t){t.imp(),t.kil()},h[51]=function(t){t.izy(),t.rla(),t.rmw()},h[52]=function(t){t.zpx(),t.nop()},h[53]=function(t){t.zpx(),t.and()},h[54]=function(t){t.zpx(),t.rol(),t.rmw()},h[55]=function(t){t.zpx(),t.rla(),t.rmw()},h[56]=function(t){t.imp(),t.sec()},h[57]=function(t){t.aby(),t.and()},h[58]=function(t){t.imp(),t.nop()},h[59]=function(t){t.aby(),t.rla(),t.rmw()},h[60]=function(t){t.abx(),t.nop()},h[61]=function(t){t.abx(),t.and()},h[62]=function(t){t.abx(),t.rol(),t.rmw()},h[63]=function(t){t.abx(),t.rla(),t.rmw()},h[64]=function(t){t.imp(),t.rti()},h[65]=function(t){t.izx(),t.eor()},h[66]=function(t){t.imp(),t.kil()},h[67]=function(t){t.izx(),t.sre(),t.rmw()},h[68]=function(t){t.zp(),t.nop()},h[69]=function(t){t.zp(),t.eor()},h[70]=function(t){t.zp(),t.lsr(),t.rmw()},h[71]=function(t){t.zp(),t.sre(),t.rmw()},h[72]=function(t){t.imp(),t.pha()},h[73]=function(t){t.imm(),t.eor()},h[74]=function(t){t.imp(),t.lsra()},h[75]=function(t){t.imm(),t.alr()},h[76]=function(t){t.abs(),t.jmp()},h[77]=function(t){t.abs(),t.eor()},h[78]=function(t){t.abs(),t.lsr(),t.rmw()},h[79]=function(t){t.abs(),t.sre(),t.rmw()},h[80]=function(t){t.rel(),t.bvc()},h[81]=function(t){t.izy(),t.eor()},h[82]=function(t){t.imp(),t.kil()},h[83]=function(t){t.izy(),t.sre(),t.rmw()},h[84]=function(t){t.zpx(),t.nop()},h[85]=function(t){t.zpx(),t.eor()},h[86]=function(t){t.zpx(),t.lsr(),t.rmw()},h[87]=function(t){t.zpx(),t.sre(),t.rmw()},h[88]=function(t){t.imp(),t.cli()},h[89]=function(t){t.aby(),t.eor()},h[90]=function(t){t.imp(),t.nop()},h[91]=function(t){t.aby(),t.sre(),t.rmw()},h[92]=function(t){t.abx(),t.nop()},h[93]=function(t){t.abx(),t.eor()},h[94]=function(t){t.abx(),t.lsr(),t.rmw()},h[95]=function(t){t.abx(),t.sre(),t.rmw()},h[96]=function(t){t.imp(),t.rts()},h[97]=function(t){t.izx(),t.adc()},h[98]=function(t){t.imp(),t.kil()},h[99]=function(t){t.izx(),t.rra(),t.rmw()},h[100]=function(t){t.zp(),t.nop()},h[101]=function(t){t.zp(),t.adc()},h[102]=function(t){t.zp(),t.ror(),t.rmw()},h[103]=function(t){t.zp(),t.rra(),t.rmw()},h[104]=function(t){t.imp(),t.pla()},h[105]=function(t){t.imm(),t.adc()},h[106]=function(t){t.imp(),t.rra()},h[107]=function(t){t.imm(),t.arr()},h[108]=function(t){t.ind(),t.jmp()},h[109]=function(t){t.abs(),t.adc()},h[110]=function(t){t.abs(),t.ror(),t.rmw()},h[111]=function(t){t.abs(),t.rra(),t.rmw()},h[112]=function(t){t.rel(),t.bvs()},h[113]=function(t){t.izy(),t.adc()},h[114]=function(t){t.imp(),t.kil()},h[115]=function(t){t.izy(),t.rra(),t.rmw()},h[116]=function(t){t.zpx(),t.nop()},h[117]=function(t){t.zpx(),t.adc()},h[118]=function(t){t.zpx(),t.ror(),t.rmw()},h[119]=function(t){t.zpx(),t.rra(),t.rmw()},h[120]=function(t){t.imp(),t.sei()},h[121]=function(t){t.aby(),t.adc()},h[122]=function(t){t.imp(),t.nop()},h[123]=function(t){t.aby(),t.rra(),t.rmw()},h[124]=function(t){t.abx(),t.nop()},h[125]=function(t){t.abx(),t.adc()},h[126]=function(t){t.abx(),t.ror(),t.rmw()},h[127]=function(t){t.abx(),t.rra(),t.rmw()},h[128]=function(t){t.imm(),t.nop()},h[129]=function(t){t.izx(),t.sta()},h[130]=function(t){t.imm(),t.nop()},h[131]=function(t){t.izx(),t.sax()},h[132]=function(t){t.zp(),t.sty()},h[133]=function(t){t.zp(),t.sta()},h[134]=function(t){t.zp(),t.stx()},h[135]=function(t){t.zp(),t.sax()},h[136]=function(t){t.imp(),t.dey()},h[137]=function(t){t.imm(),t.nop()},h[138]=function(t){t.imp(),t.txa()},h[139]=function(t){t.imm(),t.xaa()},h[140]=function(t){t.abs(),t.sty()},h[141]=function(t){t.abs(),t.sta()},h[142]=function(t){t.abs(),t.stx()},h[143]=function(t){t.abs(),t.sax()},h[144]=function(t){t.rel(),t.bcc()},h[145]=function(t){t.izy(),t.sta()},h[146]=function(t){t.imp(),t.kil()},h[147]=function(t){t.izy(),t.ahx()},h[148]=function(t){t.zpx(),t.sty()},h[149]=function(t){t.zpx(),t.sta()},h[150]=function(t){t.zpy(),t.stx()},h[151]=function(t){t.zpy(),t.sax()},h[152]=function(t){t.imp(),t.tya()},h[153]=function(t){t.aby(),t.sta()},h[154]=function(t){t.imp(),t.txs()},h[155]=function(t){t.aby(),t.tas()},h[156]=function(t){t.abx(),t.shy()},h[157]=function(t){t.abx(),t.sta()},h[158]=function(t){t.aby(),t.shx()},h[159]=function(t){t.aby(),t.ahx()},h[160]=function(t){t.imm(),t.ldy()},h[161]=function(t){t.izx(),t.lda()},h[162]=function(t){t.imm(),t.ldx()},h[163]=function(t){t.izx(),t.lax()},h[164]=function(t){t.zp(),t.ldy()},h[165]=function(t){t.zp(),t.lda()},h[166]=function(t){t.zp(),t.ldx()},h[167]=function(t){t.zp(),t.lax()},h[168]=function(t){t.imp(),t.tay()},h[169]=function(t){t.imm(),t.lda()},h[170]=function(t){t.imp(),t.tax()},h[171]=function(t){t.imm(),t.lax()},h[172]=function(t){t.abs(),t.ldy()},h[173]=function(t){t.abs(),t.lda()},h[174]=function(t){t.abs(),t.ldx()},h[175]=function(t){t.abs(),t.lax()},h[176]=function(t){t.rel(),t.bcs()},h[177]=function(t){t.izy(),t.lda()},h[178]=function(t){t.imp(),t.kil()},h[179]=function(t){t.izy(),t.lax()},h[180]=function(t){t.zpx(),t.ldy()},h[181]=function(t){t.zpx(),t.lda()},h[182]=function(t){t.zpy(),t.ldx()},h[183]=function(t){t.zpy(),t.lax()},h[184]=function(t){t.imp(),t.clv()},h[185]=function(t){t.aby(),t.lda()},h[186]=function(t){t.imp(),t.tsx()},h[187]=function(t){t.aby(),t.las()},h[188]=function(t){t.abx(),t.ldy()},h[189]=function(t){t.abx(),t.lda()},h[190]=function(t){t.aby(),t.ldx()},h[191]=function(t){t.aby(),t.lax()},h[192]=function(t){t.imm(),t.cpy()},h[193]=function(t){t.izx(),t.cmp()},h[194]=function(t){t.imm(),t.nop()},h[195]=function(t){t.izx(),t.dcp(),t.rmw()},h[196]=function(t){t.zp(),t.cpy()},h[197]=function(t){t.zp(),t.cmp()},h[198]=function(t){t.zp(),t.dec(),t.rmw()},h[199]=function(t){t.zp(),t.dcp(),t.rmw()},h[200]=function(t){t.imp(),t.iny()},h[201]=function(t){t.imm(),t.cmp()},h[202]=function(t){t.imp(),t.dex()},h[203]=function(t){t.imm(),t.axs()},h[204]=function(t){t.abs(),t.cpy()},h[205]=function(t){t.abs(),t.cmp()},h[206]=function(t){t.abs(),t.dec(),t.rmw()},h[207]=function(t){t.abs(),t.dcp(),t.rmw()},h[208]=function(t){t.rel(),t.bne()},h[209]=function(t){t.izy(),t.cmp()},h[210]=function(t){t.imp(),t.kil()},h[211]=function(t){t.izy(),t.dcp(),t.rmw()},h[212]=function(t){t.zpx(),t.nop()},h[213]=function(t){t.zpx(),t.cmp()},h[214]=function(t){t.zpx(),t.dec(),t.rmw()},h[215]=function(t){t.zpx(),t.dcp(),t.rmw()},h[216]=function(t){t.imp(),t.cld()},h[217]=function(t){t.aby(),t.cmp()},h[218]=function(t){t.imp(),t.nop()},h[219]=function(t){t.aby(),t.dcp(),t.rmw()},h[220]=function(t){t.abx(),t.nop()},h[221]=function(t){t.abx(),t.cmp()},h[222]=function(t){t.abx(),t.dec(),t.rmw()},h[223]=function(t){t.abx(),t.dcp(),t.rmw()},h[224]=function(t){t.imm(),t.cpx()},h[225]=function(t){t.izx(),t.sbc()},h[226]=function(t){t.imm(),t.nop()},h[227]=function(t){t.izx(),t.isc(),t.rmw()},h[228]=function(t){t.zp(),t.cpx()},h[229]=function(t){t.zp(),t.sbc()},h[230]=function(t){t.zp(),t.inc(),t.rmw()},h[231]=function(t){t.zp(),t.isc(),t.rmw()},h[232]=function(t){t.imp(),t.inx()},h[233]=function(t){t.imm(),t.sbc()},h[234]=function(t){t.imp(),t.nop()},h[235]=function(t){t.imm(),t.sbc()},h[236]=function(t){t.abs(),t.cpx()},h[237]=function(t){t.abs(),t.sbc()},h[238]=function(t){t.abs(),t.inc(),t.rmw()},h[239]=function(t){t.abs(),t.isc(),t.rmw()},h[240]=function(t){t.rel(),t.beq()},h[241]=function(t){t.izy(),t.sbc()},h[242]=function(t){t.imp(),t.kil()},h[243]=function(t){t.izy(),t.isc(),t.rmw()},h[244]=function(t){t.zpx(),t.nop()},h[245]=function(t){t.zpx(),t.sbc()},h[246]=function(t){t.zpx(),t.inc(),t.rmw()},h[247]=function(t){t.zpx(),t.isc(),t.rmw()},h[248]=function(t){t.imp(),t.sed()},h[249]=function(t){t.aby(),t.sbc()},h[250]=function(t){t.imp(),t.nop()},h[251]=function(t){t.aby(),t.isc(),t.rmw()},h[252]=function(t){t.abx(),t.nop()},h[253]=function(t){t.abx(),t.sbc()},h[254]=function(t){t.abx(),t.inc(),t.rmw()},h[255]=function(t){t.abx(),t.isc(),t.rmw()};var n=h;s.d(i,"CPU6502",function(){return c});class c{constructor(){this.PC=0,this.A=0,this.X=0,this.Y=0,this.S=0,this.N=0,this.Z=1,this.C=0,this.V=0,this.I=0,this.D=0,this.irq=0,this.nmi=0,this.tmp=0,this.addr=0,this.opcode=0,this.cycles=0}reset(){this.A=0,this.X=0,this.Y=0,this.S=0,this.N=0,this.Z=1,this.C=0,this.V=0,this.I=0,this.D=0,this.PC=this.read(65533)<<8|this.read(65532)}step(){this.opcode=this.read(this.PC++),n[this.opcode](this)}log(){var t="nPC="+this.PC.toString(16);t+=" cyc="+this.cycles,t+=" ["+this.opcode.toString(16)+"] ",t+=this.C?"C":"-",t+=this.N?"N":"-",t+=this.Z?"Z":"-",t+=this.V?"V":"-",t+=this.D?"D":"-",t+=this.I?"I":"-",t+=" A="+this.A.toString(16),t+=" X="+this.X.toString(16),t+=" Y="+this.Y.toString(16),t+=" S="+this.S.toString(16),console.log(t)}izx(){var t=this.read(this.PC++)+this.X&255;this.addr=this.read(t+1)<<8|this.read(t),this.cycles+=6}izy(){var t=this.read(this.PC++),i=this.read(t+1&255)<<8|this.read(t);this.addr=i+this.Y,(256&i)!=(256&this.addr)?this.cycles+=6:this.cycles+=5}ind(){var t=this.read(this.PC);t|=this.read(65280&this.PC|this.PC+1&255)<<8,this.addr=this.read(t),this.addr|=this.read(t+1)<<8,this.cycles+=5}zp(){this.addr=this.read(this.PC++),this.cycles+=3}zpx(){this.addr=this.read(this.PC++)+this.X&255,this.cycles+=4}zpy(){this.addr=this.read(this.PC++)+this.Y&255,this.cycles+=4}imp(){this.cycles+=2}imm(){this.addr=this.PC++,this.cycles+=2}abs(){this.addr=this.read(this.PC++),this.addr|=this.read(this.PC++)<<8,this.cycles+=4}abx(){var t=this.read(this.PC++);t|=this.read(this.PC++)<<8,this.addr=t+this.X,(256&t)!=(256&this.addr)?this.cycles+=5:this.cycles+=4}aby(){var t=this.read(this.PC++);t|=this.read(this.PC++)<<8,this.addr=t+this.Y,(256&t)!=(256&this.addr)?this.cycles+=5:this.cycles+=4}rel(){this.addr=this.read(this.PC++),128&this.addr&&(this.addr-=256),this.addr+=this.PC,this.cycles+=2}rmw(){this.write(this.addr,255&this.tmp),this.cycles+=2}fnz(t){this.Z=0==(255&t)?1:0,this.N=0!=(128&t)?1:0}fnzb(t){this.Z=0==(255&t)?1:0,this.N=0!=(128&t)?1:0,this.C=0!=(256&t)?0:1}fnzc(t){this.Z=0==(255&t)?1:0,this.N=0!=(128&t)?1:0,this.C=0!=(256&t)?1:0}branch(t){t&&((256&this.addr)!=(256&this.PC)?this.cycles+=2:this.cycles+=1,this.PC=this.addr)}adc(){var t=this.read(this.addr),i=this.C,s=this.A+t+i;if(this.D){var h=(15&this.A)+(15&t)+i;h>9&&(h+=6);var n=(this.A>>4)+(t>>4)+(h>15?1:0);this.Z=0==(255&s)?1:0,this.N=0!=(8&n)?1:0,this.V=0!=(~(this.A^t)&(this.A^n<<4)&128)?1:0,n>9&&(n+=6),this.C=n>15?1:0,this.A=255&(n<<4|15&h)}else this.Z=0==(255&s)?1:0,this.N=0!=(128&s)?1:0,this.V=0!=(~(this.A^t)&(this.A^s)&128)?1:0,this.C=0!=(256&s)?1:0,this.A=255&s}ahx(){this.tmp=1+(this.addr>>8)&this.A&this.X,this.write(this.addr,255&this.tmp)}alr(){this.tmp=this.read(this.addr)&this.A,this.tmp=(1&this.tmp)<<8|this.tmp>>1,this.fnzc(this.tmp),this.A=255&this.tmp}anc(){this.tmp=this.read(this.addr),this.tmp|=(128&this.tmp&this.A)<<1,this.fnzc(this.tmp),this.A=255&this.tmp}and(){this.A&=this.read(this.addr),this.fnz(this.A)}ane(){this.tmp=this.read(this.addr)&this.A&(238|this.A),this.fnz(this.tmp),this.A=255&this.tmp}arr(){if(this.tmp=this.read(this.adfdr)&this.A,this.C=0!=(128&this.tmp),this.V=0!=(this.tmp>>7&1^this.tmp>>6&1),this.D){var t=(15&this.tmp)+(1&this.tmp);t>5&&(t+=6);var i=(this.tmp>>4&15)+(this.tmp>>4&1);i>5?(t+=6,this.C=!0):this.C=!1,this.tmp=i<<4|t}this.fnz(this.tmp),this.A=255&this.tmp}asl(){this.tmp=this.read(this.addr)<<1,this.fnzc(this.tmp),this.tmp&=255}asla(){this.tmp=this.A<<1,this.fnzc(this.tmp),this.A=255&this.tmp}bit(){this.tmp=this.read(this.addr),this.N=0!=(128&this.tmp)?1:0,this.V=0!=(64&this.tmp)?1:0,this.Z=0==(this.tmp&this.A)?1:0}brk(){this.PC++,this.write(this.S+256,this.PC>>8),this.S=this.S-1&255,this.write(this.S+256,255&this.PC),this.S=this.S-1&255;var t=this.N<<7;t|=this.V<<6,t|=48,t|=this.D<<3,t|=this.I<<2,t|=this.Z<<1,t|=this.C,this.write(this.S+256,t),this.S=this.S-1&255,this.I=1,this.D=0,this.PC=this.read(65535)<<8|this.read(65534),this.cycles+=5}bcc(){this.branch(0==this.C)}bcs(){this.branch(1==this.C)}beq(){this.branch(1==this.Z)}bne(){this.branch(0==this.Z)}bmi(){this.branch(1==this.N)}bpl(){this.branch(0==this.N)}bvc(){this.branch(0==this.V)}bvs(){this.branch(1==this.V)}clc(){this.C=0}cld(){this.D=0}cli(){this.I=0}clv(){this.V=0}cmp(){this.fnzb(this.A-this.read(this.addr))}cpx(){this.fnzb(this.X-this.read(this.addr))}cpy(){this.fnzb(this.Y-this.read(this.addr))}dcp(){this.tmp=this.read(this.addr)-1&255,this.tmp=this.A-this.tmp,this.fnz(this.tmp)}dec(){this.tmp=this.read(this.addr)-1&255,this.fnz(this.tmp)}dex(){this.X=this.X-1&255,this.fnz(this.X)}dey(){this.Y=this.Y-1&255,this.fnz(this.Y)}eor(){this.A^=this.read(this.addr),this.fnz(this.A)}inc(){this.tmp=this.read(this.addr)+1&255,this.fnz(this.tmp)}inx(){this.X=this.X+1&255,this.fnz(this.X)}iny(){this.Y=this.Y+1&255,this.fnz(this.Y)}isc(){var t=this.read(this.addr)+1&255,i=1-(this.C?1:0),s=this.A-t-i;if(this.D){var h=(15&this.A)-(15&t)-i;h>128&&(h-=6);var n=(this.A>>4)-(t>>4)-(h>128?1:0);this.Z=0==(255&s),this.N=0!=(128&s),this.V=0!=((this.A^t)&(this.A^s)&128),this.C=0!=(256&this.r)?0:1,n>128&&(n-=6),this.A=255&(n<<4|15&h)}else this.Z=0==(255&s),this.N=0!=(128&s),this.V=0!=((this.A^t)&(this.A^s)&128),this.C=0!=(256&s)?0:1,this.A=255&s}jmp(){this.PC=this.addr,this.cycles--}jsr(){this.write(this.S+256,this.PC-1>>8),this.S=this.S-1&255,this.write(this.S+256,this.PC-1&255),this.S=this.S-1&255,this.PC=this.addr,this.cycles+=2}las(){this.S=this.X=this.A=this.read(this.addr)&this.S,this.fnz(this.A)}lax(){this.X=this.A=this.read(this.addr),this.fnz(this.A)}lda(){this.A=this.read(this.addr),this.fnz(this.A)}ldx(){this.X=this.read(this.addr),this.fnz(this.X)}ldy(){this.Y=this.read(this.addr),this.fnz(this.Y)}ora(){this.A|=this.read(this.addr),this.fnz(this.A)}rol(){this.tmp=this.read(this.addr)<<1|this.C,this.fnzc(this.tmp),this.tmp&=255}rla(){this.tmp=this.A<<1|this.C,this.fnzc(this.tmp),this.A=255&this.tmp}ror(){this.tmp=this.read(this.addr),this.tmp=(1&this.tmp)<<8|this.C<<7|this.tmp>>1,this.fnzc(this.tmp),this.tmp&=255}rra(){this.tmp=(1&this.A)<<8|this.C<<7|this.A>>1,this.fnzc(this.tmp),this.A=255&this.tmp}lsr(){this.tmp=this.read(this.addr),this.tmp=(1&this.tmp)<<8|this.tmp>>1,this.fnzc(this.tmp),this.tmp&=255}lsra(){this.tmp=(1&this.A)<<8|this.A>>1,this.fnzc(this.tmp),this.A=255&this.tmp}nop(){}pha(){this.write(this.S+256,this.A),this.S=this.S-1&255,this.cycles++}php(){var t=this.N<<7;t|=this.V<<6,t|=48,t|=this.D<<3,t|=this.I<<2,t|=this.Z<<1,t|=this.C,this.write(this.S+256,t),this.S=this.S-1&255,this.cycles++}pla(){this.S=this.S+1&255,this.A=this.read(this.S+256),this.fnz(this.A),this.cycles+=2}plp(){this.S=this.S+1&255,this.tmp=this.read(this.S+256),this.N=0!=(128&this.tmp)?1:0,this.V=0!=(64&this.tmp)?1:0,this.D=0!=(8&this.tmp)?1:0,this.I=0!=(4&this.tmp)?1:0,this.Z=0!=(2&this.tmp)?1:0,this.C=0!=(1&this.tmp)?1:0,this.cycles+=2}rti(){this.S=this.S+1&255,this.tmp=this.read(this.S+256),this.N=0!=(128&this.tmp)?1:0,this.V=0!=(64&this.tmp)?1:0,this.D=0!=(8&this.tmp)?1:0,this.I=0!=(4&this.tmp)?1:0,this.Z=0!=(2&this.tmp)?1:0,this.C=0!=(1&this.tmp)?1:0,this.S=this.S+1&255,this.PC=this.read(this.S+256),this.S=this.S+1&255,this.PC|=this.read(this.S+256)<<8,this.cycles+=4}rts(){this.S=this.S+1&255,this.PC=this.read(this.S+256),this.S=this.S+1&255,this.PC|=this.read(this.S+256)<<8,this.PC++,this.cycles+=4}sbc(){var t=this.read(this.addr),i=1-this.C,s=this.A-t-i;if(this.D){var h=(15&this.A)-(15&t)-i;h<0&&(h-=6);var n=(this.A>>4)-(t>>4)-(h<0?1:0);this.Z=0==(255&s)?1:0,this.N=0!=(128&s)?1:0,this.V=0!=((this.A^t)&(this.A^s)&128)?1:0,this.C=0!=(256&s)?0:1,n<0&&(n-=6),this.A=255&(n<<4|15&h)}else this.Z=0==(255&s)?1:0,this.N=0!=(128&s)?1:0,this.V=0!=((this.A^t)&(this.A^s)&128)?1:0,this.C=0!=(256&s)?0:1,this.A=255&s}sbx(){this.tmp=this.read(this.addr)-(this.A&this.X),this.fnzb(this.tmp),this.X=255&this.tmp}sec(){this.C=1}sed(){this.D=1}sei(){this.I=1}shs(){this.tmp=1+(this.addr>>8)&this.A&this.X,this.write(this.addr,255&this.tmp),this.S=255&this.tmp}shx(){this.tmp=1+(this.addr>>8)&this.X,this.write(this.addr,255&this.tmp)}shy(){this.tmp=1+(this.addr>>8)&this.Y,this.write(this.addr,255&this.tmp)}slo(){this.tmp=this.read(this.addr)<<1,this.tmp|=this.A,this.fnzc(this.tmp),this.A=255&this.tmp}sre(){var t=this.read(this.addr);this.tmp=(1&t)<<8|t>>1,this.tmp^=this.A,this.fnzc(this.tmp),this.A=255&this.tmp}sta(){this.write(this.addr,this.A)}stx(){this.write(this.addr,this.X)}sty(){this.write(this.addr,this.Y)}tax(){this.X=this.A,this.fnz(this.X)}tay(){this.Y=this.A,this.fnz(this.Y)}tsx(){this.X=this.S,this.fnz(this.X)}txa(){this.A=this.X,this.fnz(this.A)}txs(){this.S=this.X}tya(){this.A=this.Y,this.fnz(this.A)}}}]);